SET(TARGET_SOURCES
    src/AlmostReebGraph.cpp
    src/AlmostReebGraph.h
    src/bilinearInterpCoeff.cpp
    src/bilinearInterpCoeff.h
    src/ChainDecomposition.cpp
    src/ChainDecomposition.h
    src/chooseRoot.cpp
    src/chooseRoot.h
    src/chopFakeEnds.cpp
    src/chopFakeEnds.h
    src/CircularSegment.cpp
    src/CircularSegment.h
    src/ContractDeg2.cpp
    src/ContractDeg2.h
    src/ContractLoops.cpp
    src/ContractLoops.h
    src/ContractLoops2.cpp
    src/ContractLoops2.h
    src/Equations.h
    src/FillHole.cpp
    src/FillHole.h
    src/FindRoots.cpp
    src/FindRoots.h
    src/findSingularities.cpp
    src/findSingularities.h
    src/graph_typedefs.cpp
    src/graph_typedefs.h
    src/greedyTrace.cpp
    src/greedyTrace.h
    src/HermiteSpline.h
    src/intersections.cpp
    src/intersections.h
    src/IsLoopContractible.cpp
    src/IsLoopContractible.h
    src/l2_regularizer.cpp
    src/l2_regularizer.h
    src/LBFGS.h
    src/main.cpp
    src/Optimizer.cpp
    src/Optimizer.h
    src/Params.h
    src/polynomial_energy.cpp
    src/polynomial_energy.h
    src/RemoveShortBranches.cpp
    src/RemoveShortBranches.h
    src/ScanConvert.cpp
    src/ScanConvert.h
    src/simple_svg_1.0.0.cpp
    src/simple_svg_1.0.0.hpp
    src/Simplify.cpp
    src/Simplify.h
    src/Smooth.cpp
    src/Smooth.h
    src/SplitEmUp.cpp
    src/SplitEmUp.h
    src/stdafx.cpp
    src/stdafx.h
    src/TopoGraphEmbedding.cpp
    src/TopoGraphEmbedding.h
    src/TotalEnergy.cpp
    src/TotalEnergy.h
    src/traceAuto.cpp
    src/traceAuto.h
    src/typedefs.cpp
    src/typedefs.h
)

if (WITH_GUI)
list(APPEND TARGET_SOURCES src/imagequiverviewer.cpp src/imagequiverviewer.hpp src/mainwindow.cpp src/mainwindow.h src/MyScrollArea.cpp src/MyScrollArea.h)
endif()

target_sources(polyvector_thing PRIVATE ${TARGET_SOURCES})